-- 5/11 DROP 순서 변경 및 셀프 참조 되어있던 TBL_ORDER 삭제
-- 5/12 TBL_COROP내 CORP_ACCEPTED(가입승인), TBL_SETTLEMENT와 TBL_SALES 연결(SALES_NO FK), TBL_SALES DROP 순서 이동
-- 5/21 기업회원등급(ADMIN포함) 및 상품카테고리10개 INSERT 완료
-- 5/22 상품정보테이블(TBL_PRODUCT) 상품등록일, 판매종료일, 상세설명 컬럼 추가
-- 5/26 커뮤니티테이블(TBL_POST) 좋아요수 컬럼 추가, 공지사항 & QNA 조회수 컬럼 추가

DROP TABLE TBL_WISHLIST;
DROP TABLE TBL_COUPON;
DROP TABLE TBL_POST_IMG;
DROP TABLE TBL_POST_COMMENTS;
DROP TABLE TBL_POST;
DROP TABLE TBL_ORDER_N_PAYMENT;
DROP TABLE TBL_PAYMENT;
DROP TABLE TBL_PURCHASED;
DROP TABLE TBL_PROD_COMMENT;
DROP TABLE TBL_PROD_REVIEW_IMG;
DROP TABLE TBL_PROD_REVIEW;
DROP TABLE TBL_EXCHANGE;
DROP TABLE TBL_RETURN;
DROP TABLE TBL_DELIVERY;
DROP TABLE TBL_QNA;
DROP TABLE TBL_KEYWORDS_BID;
DROP TABLE TBL_KEYWORDS;
DROP TABLE TBL_DEPOSIT;
DROP TABLE TBL_PROD_IMG;
DROP TABLE TBL_PROD_RELATED;
DROP TABLE TBL_STOCK;
DROP TABLE TBL_EVENT;
DROP TABLE TBL_SETTLEMENT;
DROP TABLE TBL_SALES;
DROP TABLE TBL_NOTICE;
DROP TABLE TBL_ORDER;
DROP TABLE TBL_PRODUCT;
DROP TABLE TBL_PROD_CATEGORY;
DROP TABLE TBL_CORP_USER;
DROP TABLE TBL_CORP_LV;
DROP TABLE TBL_USER;

--시퀀스 삭제
DROP SEQUENCE SEQ_WISHLIST;
DROP SEQUENCE SEQ_COUPON;
DROP SEQUENCE SEQ_POST_IMG;
DROP SEQUENCE SEQ_POST_COMMENTS;
DROP SEQUENCE SEQ_POST;
DROP SEQUENCE SEQ_ORDER_N_PAYMENT;
DROP SEQUENCE SEQ_PAYMENT;
DROP SEQUENCE SEQ_PURCHASED;
DROP SEQUENCE SEQ_PROD_COMMENT;
DROP SEQUENCE SEQ_PROD_REVIEW_IMG;
DROP SEQUENCE SEQ_PROD_REVIEW;
DROP SEQUENCE SEQ_EXCHANGE;
DROP SEQUENCE SEQ_RETURN;
DROP SEQUENCE SEQ_DELIVERY;
DROP SEQUENCE SEQ_ORDER;
DROP SEQUENCE SEQ_SALES;
DROP SEQUENCE SEQ_QNA;
DROP SEQUENCE SEQ_USER;
DROP SEQUENCE SEQ_KEYWORDS_BID;
DROP SEQUENCE SEQ_KEYWORDS;
DROP SEQUENCE SEQ_DEPOSIT;
DROP SEQUENCE SEQ_PROD_IMG;
DROP SEQUENCE SEQ_PROD_RELATED;
DROP SEQUENCE SEQ_STOCK;
DROP SEQUENCE SEQ_EVENT;
DROP SEQUENCE SEQ_PRODUCT;
DROP SEQUENCE SEQ_PROD_CATEGORY;
DROP SEQUENCE SEQ_SETTLEMENT;
DROP SEQUENCE SEQ_CORP_USER;
DROP SEQUENCE SEQ_CORP_LV;
DROP SEQUENCE SEQ_NOTICE;

--시퀀스 생성
--시퀀스 번호 생성은 주석 풀어서 시작 시퀀스 정하면 되여!
CREATE SEQUENCE SEQ_WISHLIST;
--START WITH
CREATE SEQUENCE SEQ_COUPON;
--START WITH
CREATE SEQUENCE SEQ_POST_IMG;
--START WITH
CREATE SEQUENCE SEQ_POST_COMMENTS;
--START WITH
CREATE SEQUENCE SEQ_POST;
--START WITH
CREATE SEQUENCE SEQ_ORDER_N_PAYMENT;
--START WITH
CREATE SEQUENCE SEQ_PAYMENT;
--START WITH
CREATE SEQUENCE SEQ_PURCHASED;
--START WITH
CREATE SEQUENCE SEQ_PROD_COMMENT;
--START WITH
CREATE SEQUENCE SEQ_PROD_REVIEW_IMG;
--START WITH
CREATE SEQUENCE SEQ_PROD_REVIEW;
--START WITH
CREATE SEQUENCE SEQ_EXCHANGE;
--START WITH
CREATE SEQUENCE SEQ_RETURN;
--START WITH
CREATE SEQUENCE SEQ_DELIVERY;
--START WITH
CREATE SEQUENCE SEQ_ORDER;
--START WITH
CREATE SEQUENCE SEQ_SALES;
--START WITH
CREATE SEQUENCE SEQ_QNA;
--START WITH
CREATE SEQUENCE SEQ_USER;
--START WITH
CREATE SEQUENCE SEQ_KEYWORDS_BID;
--START WITH
CREATE SEQUENCE SEQ_KEYWORDS;
--START WITH
CREATE SEQUENCE SEQ_DEPOSIT;
--START WITH
CREATE SEQUENCE SEQ_PROD_IMG;
--START WITH
CREATE SEQUENCE SEQ_PROD_RELATED;
--START WITH
CREATE SEQUENCE SEQ_STOCK;
--START WITH
CREATE SEQUENCE SEQ_EVENT;
--START WITH
CREATE SEQUENCE SEQ_PRODUCT;
--START WITH
CREATE SEQUENCE SEQ_PROD_CATEGORY;
--START WITH
CREATE SEQUENCE SEQ_SETTLEMENT;
--START WITH
CREATE SEQUENCE SEQ_CORP_USER;
--START WITH
CREATE SEQUENCE SEQ_CORP_LV;
--START WITH
CREATE SEQUENCE SEQ_NOTICE;
--START WITH


-- 일반회원 테이블 생성
CREATE TABLE TBL_USER ( 
    USER_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    USER_ID VARCHAR2(26) NOT NULL,
    USER_PWD VARCHAR2(26) NOT NULL,
    USER_NAME VARCHAR2(26) NOT NULL,
    USER_BIRTH DATE NOT NULL,
    USER_ADDRESS VARCHAR2(500) NOT NULL,
    USER_CONTACTS VARCHAR2(50) NOT NULL,
    USER_EMAIL VARCHAR2(200) NOT NULL,
    USER_MKT_ACCEPT_CHK VARCHAR2(26) DEFAULT 'Y' NOT NULL,
    USER_REGST_DATE DATE NOT NULL,
    USER_LEAVE_CHK VARCHAR2(26) DEFAULT 'N' NOT NULL
);


-- 장바구니 테이블 생성
CREATE TABLE TBL_WISHLIST ( 
    WISHLIST_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    USER_NO VARCHAR2(26) NOT NULL,
    WISHLIST_DATE DATE NOT NULL,
    WISHLIST_STATUS VARCHAR2(26) DEFAULT 'Y' NOT NULL,
    PROD_NO VARCHAR2(26) NOT NULL
);

-- 구매내역 테이블 생성
CREATE TABLE TBL_PURCHASED ( 
    PURCHASED_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    USER_NO VARCHAR2(26) NOT NULL,
    PURCHASED_DATE DATE NOT NULL,
    PURCHASED_STATUS VARCHAR2(26) DEFAULT 'Y' NOT NULL,
    PROD_NO VARCHAR2(26) NOT NULL,
    PAYMENT_CHK VARCHAR2(26) DEFAULT 'Y' NOT NULL
);

-- 쿠폰 테이블 생성
CREATE TABLE TBL_COUPON ( 
    COUPON_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    USER_NO VARCHAR2(26) NOT NULL,
    COUPON_END_DATE DATE NOT NULL,
    COUPON_USED_CHK VARCHAR2(26) DEFAULT 'N' NOT NULL
);

-- 커뮤니티 테이블 생성
CREATE TABLE TBL_POST ( 
    POST_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    USER_NO VARCHAR2(26) NOT NULL,
    POST_TITLE VARCHAR2(2000) NOT NULL,
    POST_DETAILS VARCHAR2(4000) NOT NULL,
    POST_DATE DATE NOT NULL,
    POST_STATUS VARCHAR2(26) DEFAULT 'Y' NOT NULL,
    POST_HITS NUMBER(26) DEFAULT 0 NOT NULL,
    POST_LIKES NUMBER(26) DEFAULT 0 NOT NULL
);

-- 커뮤니티 댓글 테이블 생성
CREATE TABLE TBL_POST_COMMENTS ( 
    POST_COMT_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    USER_NO VARCHAR2(26) NOT NULL,
    POST_NO VARCHAR2(26) NOT NULL,
    POST_COMT_DETAILS VARCHAR2(4000) NOT NULL,
    POST_COMT_DATE DATE NOT NULL,
    POST_COMT_STATUS VARCHAR2(26) DEFAULT 'Y' NOT NULL,
    POST_REPLY_DETAILS VARCHAR2(4000),
    POST_REPLY_DATE DATE,
    POST_REPLY_STATUS VARCHAR2(26)DEFAULT 'N',
    POST_COMT_DISPLAY_CHK VARCHAR2(26) DEFAULT 'N' NOT NULL
);

-- 커뮤니티 이미지 테이블 생성
CREATE TABLE TBL_POST_IMG ( 
    POST_IMG_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    POST_NO VARCHAR2(26) NOT NULL,
    POST_IMG_ORIGIN_NAME VARCHAR2(4000) NOT NULL,
    POST_IMG_RENAME VARCHAR2(4000) NOT NULL,
    POST_IMG_THN_NAME VARCHAR2(4000) NOT NULL,
    POST_IMG_PATH VARCHAR2(4000) NOT NULL
);

-- 결제 테이블 생성
CREATE TABLE TBL_PAYMENT ( 
    PAYMENT_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    USER_NO VARCHAR2(26) NOT NULL,
    PAYMENT_DATE DATE NOT NULL,
    PAYMENT_PRICE NUMBER(26) DEFAULT '0' NOT NULL
);

-- 기업회원정보 테이블 생성
CREATE TABLE TBL_CORP_USER ( 
    CORP_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    CORP_ID VARCHAR2(26) NOT NULL,
    CORP_PWD VARCHAR2(26) NOT NULL,
    CORP_NAME VARCHAR2(100) NOT NULL,
    CORP_CONTACTS VARCHAR2(50) NOT NULL,
    CORP_ADDRESS VARCHAR2(500) NOT NULL,
    CORP_EMAIL VARCHAR2(200) NOT NULL,
    CORP_REGISTRATION_NO VARCHAR2(50),
    CORP_LV_NO VARCHAR2(26) NOT NULL,
    CORP_COMMISSION NUMBER(26) DEFAULT 0.05 NOT NULL,
    DEPOSIT_AMT NUMBER(26) DEFAULT 0 NOT NULL,
    CORP_REGST_DATE DATE NOT NULL,
    CORP_REGST_ACCPETED VARCHAR2(26) DEFAULT 'N' NOT NULL,
    CORP_LEAVE_CHK VARCHAR2(26) DEFAULT 'N' NOT NULL
);

-- 기업회원 등급 테이블 생성
CREATE TABLE TBL_CORP_LV ( 
    CORP_LV_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    CORP_LV_NAME VARCHAR2(26) NOT NULL
);

-- 예치금 테이블 생성
CREATE TABLE TBL_DEPOSIT ( 
    DEPOSIT_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    CORP_NO VARCHAR2(26) NOT NULL,
    DEPOSIT_SORT VARCHAR2(50) NOT NULL,
    AMOUNT NUMBER(26) NOT NULL,
    DEPOSIT_DATE DATE NOT NULL,
    DEPOSIT_DETAILS VARCHAR2(500) NOT NULL
);

-- 매출내역 테이블 생성
CREATE TABLE TBL_SALES ( 
    SALES_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    PROD_NO VARCHAR2(26) NOT NULL,
    ORDER_NO VARCHAR2(26) NOT NULL,
    SALES_DATE DATE NOT NULL,
    SALES_QUANTITY NUMBER(26) NOT NULL,
    SALES_AMT NUMBER(26) NOT NULL
);

-- 정산 테이블 생성
CREATE TABLE TBL_SETTLEMENT ( 
    SETTLEMENT_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    CORP_NO VARCHAR2(26) NOT NULL,
    SALES_NO VARCHAR2(26) NOT NULL,
    SETTLEMENT_START_DATE DATE NOT NULL,
    SETTLEMENT_END_DATE DATE NOT NULL,
    TOTAL_SALES NUMBER(26) NOT NULL,
    COMMISSION_BY_SALES NUMBER(26) NOT NULL,
    SETTLEMENT_AMT NUMBER(26) NOT NULL,
    SETTLEMENT_DATE DATE NOT NULL,
    SETTLEMENT_CHK VARCHAR2(26) DEFAULT 'N' NOT NULL
);

-- 상품정보 테이블 생성
CREATE TABLE TBL_PRODUCT ( 
    PROD_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    PROD_NAME VARCHAR2(500) NOT NULL,
    PROD_PRICE NUMBER(26) NOT NULL,
    PROD_DETAILS VARCHAR2(4000) NOT NULL,
    PROD_UPLOAD_DATE DATE NOT NULL,
    PROD_TERMINATE_DATE DATE NOT NULL,
    PROD_DISCOUNT_RATE NUMBER(26),
    PROD_DISCOUNT_PERIOD DATE,
    PROD_MANUFACTURER VARCHAR2(100) NOT NULL,
    STOCK_QUANTITY NUMBER(26) NOT NULL,
    PROD_DISPLAY_CHK VARCHAR2(26) DEFAULT 'Y',
    PROD_CTG_NO VARCHAR2(26) NOT NULL,
    CORP_NO VARCHAR2(26) NOT NULL,
    PROD_HITS NUMBER(26) DEFAULT 0
);

-- 상품 카테고리 테이블 생성
CREATE TABLE TBL_PROD_CATEGORY ( 
    PROD_CTG_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    PROD_CTG_NAME VARCHAR2(100) NOT NULL
);

-- 상품 이미지 테이블 생성
CREATE TABLE TBL_PROD_IMG ( 
    PROD_IMG_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    PROD_NO VARCHAR2(26) NOT NULL,
    PROD_IMG_ORIGIN_NAME VARCHAR2(4000) NOT NULL,
    PROD_IMG_RENAME VARCHAR2(4000) NOT NULL,
    PROD_IMG_THN_NAME VARCHAR2(4000) NOT NULL,
    PROD_IMG_PATH VARCHAR2(4000) NOT NULL
);

-- 연관상품그룹 테이블 생성
CREATE TABLE TBL_PROD_RELATED ( 
    RELATED_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    RELATED_NAME VARCHAR2(200) NOT NULL,
    PROD_NO VARCHAR2(26) NOT NULL
);

-- 키워드 테이블 생성
CREATE TABLE TBL_KEYWORDS ( 
    KEYWORDS_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    KEYWORDS_SET VARCHAR2(100) NOT NULL,
    PROD_NO VARCHAR2(26) NOT NULL
);

-- 키워드 광고입찰 테이블 생성
CREATE TABLE TBL_KEYWORDS_BID ( 
    BID_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    KEYWORDS_NO VARCHAR2(26) NOT NULL,
    PROD_NO VARCHAR2(26) NOT NULL,
    BID_PRICE NUMBER(26) NOT NULL,
    BID_DATE DATE NOT NULL,
    BID_STATUS VARCHAR2(26) DEFAULT 'Y' NOT NULL,
    BID_CANCEL_CHK VARCHAR2(26) DEFAULT 'N' NOT NULL,
    DEPOSIT_NO VARCHAR2(26) NOT NULL
);

-- 상품재고 테이블 생성
CREATE TABLE TBL_STOCK ( 
    STOCK_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    PROD_NO VARCHAR2(26) NOT NULL,
    STOCK_SORT VARCHAR2(50) NOT NULL,
    STOCK_QUANTITY NUMBER(26) DEFAULT 0 NOT NULL,
    STOCK_DATE DATE NOT NULL
);

-- 이벤트 테이블 생성
CREATE TABLE TBL_EVENT ( 
    EVENT_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    PROD_NO VARCHAR2(26) NOT NULL,
    EVENT_BOLD_CHK VARCHAR2(26) DEFAULT 'N',
    EVENT_BOLD_DATE DATE,
    EVENT_COLOR_CHK VARCHAR2(26) DEFAULT 'N',
    EVENT_COLOR_DATE DATE
);

-- 상품문의(댓글) 테이블 생성
CREATE TABLE TBL_PROD_COMMENT ( 
    PROD_COMT_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    PROD_NO VARCHAR2(26) NOT NULL,
    USER_NO VARCHAR2(26) NOT NULL,
    PROD_COMT_DETAILS VARCHAR2(4000) NOT NULL,
    PROD_COMT_DATE DATE NOT NULL,
    PROD_COMT_DISPLAY_CHK VARCHAR2(26) DEFAULT 'Y' NOT NULL,
    PROD_COMT_REPLY_CHK VARCHAR2(26) DEFAULT 'N' NOT NULL,
    PROD_COMT_REPLY VARCHAR2(4000) NOT NULL
);

-- 상품리뷰 테이블 생성
CREATE TABLE TBL_PROD_REVIEW ( 
    REVIEW_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    PROD_NO VARCHAR2(26) NOT NULL,
    USER_NO VARCHAR2(26) NOT NULL,
    REVIEW_DETAILS VARCHAR2(4000) NOT NULL,
    REVIEW_SCORE NUMBER(26) NOT NULL,
    REVIEW_DATE DATE NOT NULL
);

-- 상품리뷰 이미지 테이블 생성
CREATE TABLE TBL_PROD_REVIEW_IMG ( 
    REVIEW_IMG_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    REVIEW_NO VARCHAR2(26) NOT NULL,
    REV_IMG_ORIGIN_NAME VARCHAR2(4000) NOT NULL,
    REV_IMG_RENAME VARCHAR2(4000) NOT NULL,
    REV_IMG_THN_NAME VARCHAR2(4000) NOT NULL,
    REV_IMG_PATH VARCHAR2(4000) NOT NULL
);

-- 주문내역 테이블 생성
CREATE TABLE TBL_ORDER ( 
    ORDER_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    CORP_NO VARCHAR2(26) NOT NULL,
    PROD_NO VARCHAR2(26) NOT NULL,
    USER_NO VARCHAR2(26) NOT NULL,
    ORDER_PRICE NUMBER(26) NOT NULL,
    DEALING_STATUS VARCHAR2(50) DEFAULT '입금대기' NOT NULL,
    ORDER_STATUS VARCHAR2(26) DEFAULT 'Y' NOT NULL,
    ORDER_QUANTITY NUMBER(26) DEFAULT 1 NOT NULL,
    ORDER_DATE DATE NOT NULL
);

-- 결제&주문 N:N 테이블 생성 (PK 없는 테이블)
CREATE TABLE TBL_ORDER_N_PAYMENT ( 
    ORDER_NO VARCHAR2(26) NOT NULL,
    PAYMENT_NO VARCHAR2(26) NOT NULL
);

-- 배송 테이블 생성
CREATE TABLE TBL_DELIVERY ( 
    DELIVERY_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    ORDER_NO VARCHAR2(26) NOT NULL,
    DELIVERY_CORP VARCHAR2(100) NOT NULL,
    DELIVERY_COMPLETE_DATE DATE,
    DELIVERY_INVOICE VARCHAR2(26) NOT NULL,
    DELIVERY_SUGGESTION VARCHAR2(4000)
);

-- 교환 테이블 생성
CREATE TABLE TBL_EXCHANGE ( 
    EXCHANGE_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    DELIVERY_NO VARCHAR2(26) NOT NULL,
    EXCHANGE_DATE DATE,
    EXCHANGE_CHK VARCHAR2(26)
);

-- 반품 테이블 생성
CREATE TABLE TBL_RETURN ( 
    RETURN_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    DELIVERY_NO VARCHAR2(26) NOT NULL,
    RETURN_DATE DATE,
    RETURN_CHK VARCHAR2(26),
    REFUND_CHK VARCHAR2(26)
);

-- Q&A 테이블 생성
CREATE TABLE TBL_QNA ( 
    QNA_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    USER_NO VARCHAR2(26) NOT NULL,
    QNA_TITLE VARCHAR2(2000) NOT NULL,
    QNA_DETAILS VARCHAR2(4000) NOT NULL,
    QNA_DATE DATE NOT NULL,
    QNA_REPLY VARCHAR2(4000),
    QNA_REPLY_DATE DATE,
    QNA_REPLY_CHK VARCHAR2(26) DEFAULT 'N' NOT NULL,
    QNA_STATUS VARCHAR2(26) DEFAULT 'Y' NOT NULL,
    QNA_HITS NUMBER(26) DEFAULT 0 NOT NULL
);

-- 공지사항 테이블 생성
CREATE TABLE TBL_NOTICE ( 
    NOTICE_NO VARCHAR2(26) NOT NULL PRIMARY KEY,
    NOTICE_TITLE VARCHAR2(2000) NOT NULL,
    NOTICE_DETAILS VARCHAR2(4000) NOT NULL,
    NOTICE_DATE DATE NOT NULL,
    NOTICE_DISPLAY_CHK VARCHAR2(26) DEFAULT 'Y' NOT NULL,
    NOTICE_IMG_NO VARCHAR2(26),
    NOTICE_HITS NUMBER(26) DEFAULT 0 NOT NULL
);


ALTER TABLE TBL_WISHLIST ADD FOREIGN KEY(USER_NO) REFERENCES TBL_USER(USER_NO);
ALTER TABLE TBL_WISHLIST ADD FOREIGN KEY(PROD_NO) REFERENCES TBL_PRODUCT(PROD_NO);
ALTER TABLE TBL_PURCHASED ADD FOREIGN KEY(USER_NO) REFERENCES TBL_USER(USER_NO);
ALTER TABLE TBL_PURCHASED ADD FOREIGN KEY(PROD_NO) REFERENCES TBL_PRODUCT(PROD_NO);
ALTER TABLE TBL_COUPON ADD FOREIGN KEY(USER_NO) REFERENCES TBL_USER(USER_NO);
ALTER TABLE TBL_POST ADD FOREIGN KEY(USER_NO) REFERENCES TBL_USER(USER_NO);
ALTER TABLE TBL_POST_COMMENTS ADD FOREIGN KEY(USER_NO) REFERENCES TBL_USER(USER_NO);
ALTER TABLE TBL_POST_COMMENTS ADD FOREIGN KEY(USER_NO) REFERENCES TBL_POST(POST_NO);
ALTER TABLE TBL_POST_IMG ADD FOREIGN KEY(POST_NO) REFERENCES TBL_POST(POST_NO);
ALTER TABLE TBL_PAYMENT ADD FOREIGN KEY(USER_NO) REFERENCES TBL_USER(USER_NO);
ALTER TABLE TBL_CORP_USER ADD FOREIGN KEY(CORP_LV_NO) REFERENCES TBL_CORP_LV(CORP_LV_NO);
ALTER TABLE TBL_DEPOSIT ADD FOREIGN KEY(CORP_NO) REFERENCES TBL_CORP_USER(CORP_NO);
ALTER TABLE TBL_DEPOSIT ADD CHECK(DEPOSIT_SORT IN('충전','인출','사용'));
ALTER TABLE TBL_SETTLEMENT ADD FOREIGN KEY(CORP_NO) REFERENCES TBL_CORP_USER(CORP_NO);
ALTER TABLE TBL_SETTLEMENT ADD FOREIGN KEY(SALES_NO) REFERENCES TBL_SALES (SALES_NO);
ALTER TABLE TBL_PRODUCT ADD FOREIGN KEY(CORP_NO) REFERENCES TBL_CORP_USER(CORP_NO);
ALTER TABLE TBL_PRODUCT ADD FOREIGN KEY(PROD_CTG_NO) REFERENCES TBL_PROD_CATEGORY(PROD_CTG_NO);
ALTER TABLE TBL_PROD_IMG ADD FOREIGN KEY(PROD_NO) REFERENCES TBL_PRODUCT(PROD_NO);
ALTER TABLE TBL_KEYWORDS_BID ADD FOREIGN KEY(PROD_NO) REFERENCES TBL_PRODUCT(PROD_NO);
ALTER TABLE TBL_KEYWORDS_BID ADD FOREIGN KEY(DEPOSIT_NO) REFERENCES TBL_DEPOSIT(DEPOSIT_NO);
ALTER TABLE TBL_KEYWORDS_BID ADD FOREIGN KEY(KEYWORDS_NO) REFERENCES TBL_KEYWORDS(KEYWORDS_NO);
ALTER TABLE TBL_STOCK ADD FOREIGN KEY(PROD_NO) REFERENCES TBL_PRODUCT(PROD_NO);
ALTER TABLE TBL_EVENT ADD FOREIGN KEY(PROD_NO) REFERENCES TBL_PRODUCT(PROD_NO);
ALTER TABLE TBL_PROD_COMMENT ADD FOREIGN KEY(PROD_NO) REFERENCES TBL_PRODUCT(PROD_NO);
ALTER TABLE TBL_PROD_COMMENT ADD FOREIGN KEY(USER_NO) REFERENCES TBL_USER(USER_NO);
ALTER TABLE TBL_PROD_REVIEW ADD FOREIGN KEY(PROD_NO) REFERENCES TBL_PRODUCT(PROD_NO);
ALTER TABLE TBL_PROD_REVIEW ADD FOREIGN KEY(USER_NO) REFERENCES TBL_USER(USER_NO);
ALTER TABLE TBL_PROD_REVIEW_IMG ADD FOREIGN KEY(REVIEW_NO) REFERENCES TBL_PROD_REVIEW(REVIEW_NO);
ALTER TABLE TBL_ORDER ADD FOREIGN KEY(PROD_NO) REFERENCES TBL_PRODUCT(PROD_NO);
ALTER TABLE TBL_ORDER ADD FOREIGN KEY(USER_NO) REFERENCES TBL_USER(USER_NO);
ALTER TABLE TBL_ORDER ADD FOREIGN KEY(CORP_NO) REFERENCES TBL_CORP_USER(CORP_NO);
ALTER TABLE TBL_ORDER_N_PAYMENT ADD FOREIGN KEY(ORDER_NO) REFERENCES TBL_ORDER(ORDER_NO);
ALTER TABLE TBL_ORDER_N_PAYMENT ADD FOREIGN KEY(PAYMENT_NO) REFERENCES TBL_PAYMENT(PAYMENT_NO);
ALTER TABLE TBL_EXCHANGE ADD FOREIGN KEY(DELIVERY_NO) REFERENCES TBL_DELIVERY(DELIVERY_NO);
ALTER TABLE TBL_RETURN ADD FOREIGN KEY(DELIVERY_NO) REFERENCES TBL_DELIVERY(DELIVERY_NO);
ALTER TABLE TBL_QNA ADD FOREIGN KEY(USER_NO) REFERENCES TBL_USER(USER_NO);
ALTER TABLE TBL_USER ADD CHECK(USER_MKT_ACCEPT_CHK IN('Y','N'));
ALTER TABLE TBL_USER ADD CHECK(USER_LEAVE_CHK IN('Y','N'));
ALTER TABLE TBL_WISHLIST ADD CHECK(WISHLIST_STATUS IN('Y','N'));
ALTER TABLE TBL_PURCHASED ADD CHECK(PURCHASED_STATUS IN('Y','N'));
ALTER TABLE TBL_PURCHASED ADD CHECK(PAYMENT_CHK IN('Y','N'));
ALTER TABLE TBL_COUPON ADD CHECK(COUPON_USED_CHK IN('Y','N'));
ALTER TABLE TBL_POST ADD CHECK(POST_STATUS IN('Y','N'));
ALTER TABLE TBL_POST_COMMENTS ADD CHECK(POST_COMT_STATUS IN('Y','N'));
ALTER TABLE TBL_POST_COMMENTS ADD CHECK(POST_REPLY_STATUS IN('Y','N'));
ALTER TABLE TBL_POST_COMMENTS ADD CHECK(POST_COMT_DISPLAY_CHK IN('Y','N'));
ALTER TABLE TBL_CORP_USER ADD CHECK(CORP_REGST_ACCPETED IN('Y','N'));
ALTER TABLE TBL_CORP_USER ADD CHECK(CORP_LEAVE_CHK IN('Y','N'));
ALTER TABLE TBL_SETTLEMENT ADD CHECK(SETTLEMENT_CHK IN('Y','N'));
ALTER TABLE TBL_PRODUCT ADD CHECK(PROD_DISPLAY_CHK IN('Y','N'));
ALTER TABLE TBL_KEYWORDS_BID ADD CHECK(BID_STATUS IN('Y','N'));
ALTER TABLE TBL_KEYWORDS_BID ADD CHECK(BID_CANCEL_CHK IN('Y','N'));
ALTER TABLE TBL_EVENT ADD CHECK(EVENT_BOLD_CHK IN('Y','N'));
ALTER TABLE TBL_EVENT ADD CHECK(EVENT_COLOR_CHK IN('Y','N'));
ALTER TABLE TBL_PROD_COMMENT ADD CHECK(PROD_COMT_DISPLAY_CHK IN('Y','N'));
ALTER TABLE TBL_PROD_COMMENT ADD CHECK(PROD_COMT_REPLY_CHK IN('Y','N'));
ALTER TABLE TBL_ORDER ADD CHECK(DEALING_STATUS IN('입금대기','결제완료', '상품준비중','배송중','완료'));
ALTER TABLE TBL_ORDER ADD CHECK(ORDER_STATUS IN('Y','N'));
ALTER TABLE TBL_QNA ADD CHECK(QNA_REPLY_CHK IN('Y','N'));
ALTER TABLE TBL_QNA ADD CHECK(QNA_STATUS IN('Y','N'));
ALTER TABLE TBL_NOTICE ADD CHECK(NOTICE_DISPLAY_CHK IN('Y','N'));
ALTER TABLE TBL_STOCK ADD CHECK(STOCK_SORT IN('입고','출고'));
ALTER TABLE TBL_SALES ADD FOREIGN KEY(ORDER_NO) REFERENCES TBL_ORDER(ORDER_NO);

-- 기업회원 등급 INSERT 
INSERT INTO TBL_CORP_LV (CORP_LV_NO,CORP_LV_NAME) VALUES ('ADMIN','ADMIN');
INSERT INTO TBL_CORP_LV (CORP_LV_NO,CORP_LV_NAME) VALUES ('CRPL0001','VVIP');
INSERT INTO TBL_CORP_LV (CORP_LV_NO,CORP_LV_NAME) VALUES ('CRPL0002','VIP');
INSERT INTO TBL_CORP_LV (CORP_LV_NO,CORP_LV_NAME) VALUES ('CRPL0003','GOLD');
INSERT INTO TBL_CORP_LV (CORP_LV_NO,CORP_LV_NAME) VALUES ('CRPL0004','SILVER');
INSERT INTO TBL_CORP_LV (CORP_LV_NO,CORP_LV_NAME) VALUES ('BLACK','BLACKCORP');

-- 상품 카테고리 INSERT
INSERT INTO TBL_PROD_CATEGORY (PROD_CTG_NO,PROD_CTG_NAME) VALUES ('PRCT0001','거실/침실가구');
INSERT INTO TBL_PROD_CATEGORY (PROD_CTG_NO,PROD_CTG_NAME) VALUES ('PRCT0002','학생/서재가구');
INSERT INTO TBL_PROD_CATEGORY (PROD_CTG_NO,PROD_CTG_NAME) VALUES ('PRCT0003','테이블/의자');
INSERT INTO TBL_PROD_CATEGORY (PROD_CTG_NO,PROD_CTG_NAME) VALUES ('PRCT0004','침구/커튼');
INSERT INTO TBL_PROD_CATEGORY (PROD_CTG_NO,PROD_CTG_NAME) VALUES ('PRCT0005','쿠션/방석');
INSERT INTO TBL_PROD_CATEGORY (PROD_CTG_NO,PROD_CTG_NAME) VALUES ('PRCT0006','가전');
INSERT INTO TBL_PROD_CATEGORY (PROD_CTG_NO,PROD_CTG_NAME) VALUES ('PRCT0007','수납/정리');
INSERT INTO TBL_PROD_CATEGORY (PROD_CTG_NO,PROD_CTG_NAME) VALUES ('PRCT0008','조명');
INSERT INTO TBL_PROD_CATEGORY (PROD_CTG_NO,PROD_CTG_NAME) VALUES ('PRCT0009','홈데코');
INSERT INTO TBL_PROD_CATEGORY (PROD_CTG_NO,PROD_CTG_NAME) VALUES ('PRCT0010','생활용품');



COMMIT;